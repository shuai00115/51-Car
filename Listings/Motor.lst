C51 COMPILER V9.54   MOTOR                                                                 03/15/2025 14:47:41 PAGE 1   


C51 COMPILER V9.54, COMPILATION OF MODULE MOTOR
OBJECT MODULE PLACED IN .\Objects\Motor.obj
COMPILER INVOKED BY: D:\develop\Keil_v5\C51\BIN\C51.EXE Motor.c OPTIMIZE(8,SPEED) BROWSE DEBUG OBJECTEXTEND PRINT(.\List
                    -ings\Motor.lst) TABS(2) OBJECT(.\Objects\Motor.obj)

line level    source

   1          #include <REGX52.H>
   2          #include "Timer1.h"
   3          
   4          sbit PWMA = P2^0;
   5          sbit AIN1 = P2^1;
   6          sbit AIN2 = P2^2;
   7          sbit STBY = P2^3;
   8          
   9          unsigned char Counter,Speed=60;
  10          
  11          /**
  12            * @brief 马达初始化
  13            * @param  无
  14            * @retval 无
  15            */
  16          
  17          void Motor_Init(void)
  18          {
  19   1        Timer1_Init(); //定时器1初始化
  20   1        AIN1 = 0; 
  21   1        AIN2 = 0;
  22   1        STBY = 1;
  23   1      }
  24          
  25          /*void Timer1_Rountine() interrupt 3
  26          {
  27            TL1 = 0xA4;   //设置定时初值
  28            TH1 = 0xFF;   //设置定时初值
  29            Counter++;
  30            if(Counter>=100) Counter=0;
  31            if(Counter<Speed) PWMA=1;
  32            else PWMA=0;
  33          }*/
  34          
  35          
  36          void Motor_Forward(void)
  37          {
  38   1        AIN1 = 1;
  39   1        AIN2 = 0;
  40   1        PWMA = 1;
  41   1      }


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =     17    ----
   CONSTANT SIZE    =   ----    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =      2    ----
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
